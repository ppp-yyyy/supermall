{"remainingRequest":"/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/src/views/detail/Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/src/views/detail/Detail.vue","mtime":1634010758825},{"path":"/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8v5YWs5YWx57uE5Lu2CmltcG9ydCBTY3JvbGwgZnJvbSAnY29tcG9uZW50cy9jb21tb24vc2Nyb2xsL1Njcm9sbCcKaW1wb3J0IEdvb2RzTGlzdCBmcm9tICdjb21wb25lbnRzL2NvbnRlbnQvZ29vZHMvR29vZHNMaXN0JwppbXBvcnQgeyBpdGVtTGlzdGVuZXJNaXhpbiwgYmFja1RvcE1peGluIH0gZnJvbSAnY29tbW9uL21peGluJwoKLy/pobXpnaLnu4Tku7YKaW1wb3J0IERldGFpbE5hdkJhciBmcm9tICcuL2NoaWxkQ29tcHMvRGV0YWlsTmF2QmFyJwppbXBvcnQgRGV0YWlsU3dpcGVyIGZyb20gJy4vY2hpbGRDb21wcy9EZXRhaWxTd2lwZXInCmltcG9ydCBEZXRhaWxCYXNlSW5mbyBmcm9tICcuL2NoaWxkQ29tcHMvRGV0YWlsQmFzZUluZm8nCmltcG9ydCBEZXRhaWxTaG9wSW5mbyBmcm9tICcuL2NoaWxkQ29tcHMvRGV0YWlsU2hvcEluZm8nCmltcG9ydCBEZXRhaWxHb29kc0luZm8gZnJvbSAnLi9jaGlsZENvbXBzL0RldGFpbEdvb2RzSW5mbycKaW1wb3J0IERldGFpbFBhcmFtSW5mbyBmcm9tICcuL2NoaWxkQ29tcHMvRGV0YWlsUGFyYW1JbmZvJwppbXBvcnQgRGV0YWlsQ29tbWVudEluZm8gZnJvbSAnLi9jaGlsZENvbXBzL0RldGFpbENvbW1lbnRJbmZvJwppbXBvcnQgRGV0YWlsQm90dG9tQmFyIGZyb20gJy4vY2hpbGRDb21wcy9EZXRhaWxCb3R0b21CYXInCmltcG9ydCBUb2FzdCBmcm9tICJjb21wb25lbnRzL2NvbW1vbi9Ub2FzdC9Ub2FzdCIKCi8vIGltcG9ydCB7ZGVib3VuY2V9IGZyb20gJ2NvbW1vbi91dGlscycKaW1wb3J0IHsgZ2V0RGV0YWlsLCBHb29kcywgU2hvcCwgR29vZHNQYXJhbSwgZ2V0UmVjb21tZW5kIH0gZnJvbSAnbmV0d29yay9kZXRhaWwnCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnRGV0YWlsJywKICAgIGNvbXBvbmVudHM6ewogICAgICAgIERldGFpbE5hdkJhciwKICAgICAgICBEZXRhaWxTd2lwZXIsCiAgICAgICAgRGV0YWlsQmFzZUluZm8sCiAgICAgICAgRGV0YWlsU2hvcEluZm8sCiAgICAgICAgRGV0YWlsR29vZHNJbmZvLAogICAgICAgIERldGFpbFBhcmFtSW5mbywKICAgICAgICBEZXRhaWxDb21tZW50SW5mbywKICAgICAgICBEZXRhaWxCb3R0b21CYXIsCiAgICAgICAgU2Nyb2xsLAogICAgICAgIEdvb2RzTGlzdCwKICAgICAgICBUb2FzdAogICAgfSwKICAgCiAgICBtaXhpbnM6IFtpdGVtTGlzdGVuZXJNaXhpbiwgYmFja1RvcE1peGluXSwKICAgIAogICAgZGF0YSgpewogICAgICAgIHJldHVybnsKICAgICAgICAgICAgaWlkOiBudWxsLAogICAgICAgICAgICB0b3BJbWFnZXM6IFtdLAogICAgICAgICAgICBnb29kczoge30sCiAgICAgICAgICAgIHNob3A6IHt9LAogICAgICAgICAgICBkZXRhaWxJbmZvOiB7fSwKICAgICAgICAgICAgcGFyYW1JbmZvOiB7fSwKICAgICAgICAgICAgY29tbWVudEluZm86e30sCiAgICAgICAgICAgIHJlY29tbWVuZHM6IFtdLAogICAgICAgICAgICB0aGVtZVRvcFlzOiBbXSwKICAgICAgICAgICAgZ2V0VGhlbWVUb3BZOiBudWxsLAogICAgICAgICAgICBjdXJyZW50SW5kZXg6IDAsCiAgICAgICAgICAgIG1lc3NhZ2U6ICIiLAogICAgICAgICAgICBzaG93OiBmYWxzZQogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCl7CiAgICAgICAgLy8xLiDkv53lrZjkvKDlhaXnmoRpaWQKICAgICAgICB0aGlzLmlpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5paWQKICAgICAgICAvLzIuIOagueaNrmlpZOivt+axguivpuaDheaVsOaNrgogICAgICAgIGdldERldGFpbCh0aGlzLmlpZCkudGhlbihyZXMgPT4gewogICAgICAgICAgICBjb25zdCBkYXRhID0gcmVzLnJlc3VsdAogICAgICAgICAgICAvLzEuIOiOt+WPlumhtumDqOeahOWbvueJh+i9ruaSreaVsOaNrgogICAgICAgICAgICB0aGlzLnRvcEltYWdlcyA9IGRhdGEuaXRlbUluZm8udG9wSW1hZ2VzCiAgICAgICAgICAgIC8vMi4g6I635Y+W5ZWG5ZOB5L+h5oGvCiAgICAgICAgICAgIHRoaXMuZ29vZHMgPSBuZXcgR29vZHMoZGF0YS5pdGVtSW5mbywgZGF0YS5jb2x1bW5zLCBkYXRhLnNob3BJbmZvLnNlcnZpY2VzKQogICAgICAgICAgICAvLzMuIOWIm+W7uuW6l+mTuuS/oeaBr+eahOWvueixoQogICAgICAgICAgICB0aGlzLnNob3AgPSBuZXcgU2hvcChkYXRhLnNob3BJbmZvKQogICAgICAgICAgICAvLzQuIOS/neWtmOWVhuWTgeeahOivpuaDheaVsOaNrgogICAgICAgICAgICB0aGlzLmRldGFpbEluZm8gPSBkYXRhLmRldGFpbEluZm8KICAgICAgICAgICAgLy81LiDojrflj5blj4LmlbDnmoTkv6Hmga8KICAgICAgICAgICAgdGhpcy5wYXJhbUluZm8gPSBuZXcgR29vZHNQYXJhbShkYXRhLml0ZW1QYXJhbXMuaW5mbywgZGF0YS5pdGVtUGFyYW1zLnJ1bGUpCiAgICAgICAgICAgIC8vNi4g5Y+W5Ye66K+E6K665L+h5oGvCiAgICAgICAgICAgIGlmKGRhdGEucmF0ZS5jUmF0ZSAhPT0gMCl7CiAgICAgICAgICAgICAgICB0aGlzLmNvbW1lbnRJbmZvID0gZGF0YS5yYXRlLmxpc3RbMF0KICAgICAgICAgICAgfQogICAgICAgICAgICAvLyAvLzEuIOesrOS4gOasoeiOt+WPlu+8muWAvOS4jeWvuQogICAgICAgICAgICAvLyAvL+WAvOS4jeWvueeahOWOn+WboO+8mnRoaXMuJHJlZnMucGFyYW1zLiRlbOWOi+agueayoeaciea4suafkwogICAgICAgICAgICAvLyB0aGlzLnRoZW1lVG9wWXMgPSBbXTsKICAgICAgICAgICAgLy8gdGhpcy50aGVtZVRvcFlzLnB1c2goMCk7CiAgICAgICAgICAgIC8vIHRoaXMudGhlbWVUb3BZcy5wdXNoKHRoaXMuJHJlZnMucGFyYW1zLiRlbC5vZmZzZXRUb3ApOwogICAgICAgICAgICAvLyB0aGlzLnRoZW1lVG9wWXMucHVzaCh0aGlzLiRyZWZzLmNvbW1lbnQuJGVsLm9mZnNldFRvcCk7CiAgICAgICAgICAgIC8vIHRoaXMudGhlbWVUb3BZcy5wdXNoKHRoaXMuJHJlZnMucmVjb21tZW5kLiRlbC5vZmZzZXRUb3ApOwogICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgICAgICAvLyAyLiDnrKzkuozmrKHojrflj5bvvJrlgLzkuI3lr7kKICAgICAgICAgICAgICAgIC8vIOWAvOS4jeWvueeahOWOn+WboO+8muWbvueJh+ayoeacieiuoeeul+WcqOWGhQogICAgICAgICAgICAgICAgLy8g5qC55o2u5pyA5paw55qE5pWw5o2u77yM5a+55bqU55qERE9N5piv5bey57uP6KKr5riy5p+T5Ye65p2lCiAgICAgICAgICAgICAgICAvLyDkvYbmmK/lm77niYfkvp3nhLbmmK/msqHmnInliqDovb3lrozvvIjnm67liY3ojrflj5bliLBvZmZzZXRUb3DkuI3ljIXlkKvlhbbkuK3nmoTlm77niYfvvIkKICAgICAgICAgICAgICAgIC8vIG9mZnNldFRvcOWAvOS4jeWvueeahOaXtuWAme+8jOmDveaYr+WbvueJh+eahOmXrumimAogICAgICAgICAgICAgICAgdGhpcy50aGVtZVRvcFlzID0gW107CiAgICAgICAgICAgICAgICB0aGlzLnRoZW1lVG9wWXMucHVzaCgwKTsKICAgICAgICAgICAgICAgIHRoaXMudGhlbWVUb3BZcy5wdXNoKHRoaXMuJHJlZnMucGFyYW1zLiRlbC5vZmZzZXRUb3ApOwogICAgICAgICAgICAgICAgdGhpcy50aGVtZVRvcFlzLnB1c2godGhpcy4kcmVmcy5jb21tZW50LiRlbC5vZmZzZXRUb3ApOwogICAgICAgICAgICAgICAgdGhpcy50aGVtZVRvcFlzLnB1c2godGhpcy4kcmVmcy5yZWNvbW1lbmQuJGVsLm9mZnNldFRvcCk7CiAgICAgICAgICAgICAgICB0aGlzLnRoZW1lVG9wWXMucHVzaChOdW1iZXIuTUFYX1ZBTFVFKTsKICAgICAgICAgICAgfSkKICAgICAgICB9KQogICAgICAgIC8vMy4g6K+35rGC5o6o6I2Q5pWw5o2uCiAgICAgICAgZ2V0UmVjb21tZW5kKCkudGhlbihyZXMgPT4gewogICAgICAgICAgICB0aGlzLnJlY29tbWVuZHMgPSByZXMuZGF0YS5saXN0CiAgICAgICAgfSkKICAgICAgICAvLyA0LiDnu5lnZXRUaGVtZVRvcFnotYvlgLwKICAgICAgICAvLyB0aGlzLmdldFRoZW1lVG9wWSA9IGRlYm91bmNlKCgpID0+IHsKICAgICAgICAvLyAgICAgdGhpcy50aGVtZVRvcFlzID0gW107CiAgICAgICAgLy8gICAgIHRoaXMudGhlbWVUb3BZcy5wdXNoKDApOwogICAgICAgIC8vICAgICB0aGlzLnRoZW1lVG9wWXMucHVzaCh0aGlzLiRyZWZzLnBhcmFtcy4kZWwub2Zmc2V0VG9wKTsKICAgICAgICAvLyAgICAgdGhpcy50aGVtZVRvcFlzLnB1c2godGhpcy4kcmVmcy5jb21tZW50LiRlbC5vZmZzZXRUb3ApOwogICAgICAgIC8vICAgICB0aGlzLnRoZW1lVG9wWXMucHVzaCh0aGlzLiRyZWZzLnJlY29tbWVuZC4kZWwub2Zmc2V0VG9wKTsKICAgICAgICAvLyAgICAgdGhpcy50aGVtZVRvcFlzLnB1c2goTnVtYmVyLk1BWF9WQUxVRSk7CgogICAgICAgIC8vICAgICBjb25zb2xlLmxvZyh0aGlzLnRoZW1lVG9wWXMpCiAgICAgICAgLy8gfSwxMDApCiAgICB9LAogICAgbW91bnRlZCgpeyAgICAgICAgIAogICAgfSwKICAgIHVwZGF0ZWQoKXsKICAgIH0sCiAgICBkZXN0cm95ZWQoKXsKICAgICAgICB0aGlzLiRidXMuJG9mZignaXRlbUltYWdlTG9hZCcsIHRoaXMuaXRlbUltZ0xpc3RlbmVyKQogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIGRldGFpbEltYWdlTG9hZCgpewogICAgICAgICAgICB0aGlzLm5ld1JlZnJlc2goKTsKICAgICAgICAgICAgLy8gdGhpcy5nZXRUaGVtZVRvcFkoKTsKICAgICAgICAgICAgCiAgICAgICAgfSwKICAgICAgICB0aXRsZUNsaWNrKGluZGV4KXsKICAgICAgICAgICAgdGhpcy4kcmVmcy5zY3JvbGwuc2Nyb2xsVG8oMCwtdGhpcy50aGVtZVRvcFlzW2luZGV4XSwxMDApCiAgICAgICAgfSwKICAgICAgICBjb250ZW50U2Nyb2xsKHBvc2l0aW9uKXsKICAgICAgICAgICAgY29uc3QgcG9zaXRpb25ZID0gLXBvc2l0aW9uLnkKICAgICAgICAgICAgbGV0IGxlbmd0aCA9IHRoaXMudGhlbWVUb3BZcy5sZW5ndGgKICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8bGVuZ3RoLTE7IGkrKyl7CiAgICAgICAgICAgICAgICBpZih0aGlzLmN1cnJlbnRJbmRleCAhPT0gaSAmJiAocG9zaXRpb25ZID49IHRoaXMudGhlbWVUb3BZc1tpXSAmJiBwb3NpdGlvblkgPCB0aGlzLnRoZW1lVG9wWXNbaSArIDFdKSl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMubmF2LmN1cnJlbnRJbmRleCA9IHRoaXMuY3VycmVudEluZGV4CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgICAgICAvLyAgICAgaWYgKHRoaXMuY3VycmVudEluZGV4ICE9PSBpICYmIChpIDwgbGVuZ3RoIC0gMSAmJiBwb3NpdGlvblkgPj0gdGhpcy50aGVtZVRvcFlzW2ldICYmIHBvc2l0aW9uWSA8IHRoaXMudGhlbWVUb3BZc1tpICsgMV0pIHx8IChpID09PSBsZW5ndGggLSAxICYmIHBvc2l0aW9uWSA+PSB0aGlzLnRoZW1lVG9wWXNbaV0pKSB7CiAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBpOwogICAgICAgICAgICAvLyAgICAgICAgIHRoaXMuJHJlZnMubmF2LmN1cnJlbnRJbmRleCA9IHRoaXMuY3VycmVudEluZGV4CiAgICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgIC8vMS7liKTmlq1iYWNrVG9w5piv5ZCm5pi+56S6CiAgICAgICAgICAgIHRoaXMuaXNTaG93QmFja1RvcCA9IC1wb3NpdGlvbi55ID4gMTAwMAogICAgICAgIH0sCiAgICAgICAgYWRkVG9DYXJ0KCl7CiAgICAgICAgICAgIC8vMS4g6I635Y+W6LSt54mp6L2m6ZyA6KaB5bGV56S655qE5ZWG5ZOB5L+h5oGvCiAgICAgICAgICAgIGNvbnN0IHByb2R1Y3QgPSB7fQogICAgICAgICAgICBwcm9kdWN0LmltYWdlID0gdGhpcy50b3BJbWFnZXNbMF07CiAgICAgICAgICAgIHByb2R1Y3QudGl0bGUgPSB0aGlzLmdvb2RzLnRpdGxlOwogICAgICAgICAgICBwcm9kdWN0LmRlc2MgPSB0aGlzLmdvb2RzLmRlc2M7CiAgICAgICAgICAgIHByb2R1Y3QucHJpY2UgPSB0aGlzLmdvb2RzLnJlYWxQcmljZTsKICAgICAgICAgICAgcHJvZHVjdC5paWQgPSB0aGlzLmlpZDsKICAgICAgICAgICAgLy8yLiDlsIbllYblk4Hmt7vliqDliLDotK3nianovabph4wKICAgICAgICAgICAgLy8gdGhpcy4kc3RvcmUuY2FydExpc3QucHVzaChwcm9kdWN0KQogICAgICAgICAgICAvLyB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZENhcnQnLCBwcm9kdWN0KQogICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYWRkQ2FydCcsIHByb2R1Y3QpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0LnNob3cocmVzLCAxNTAwKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/views/detail","sourcesContent":["<template>\n    <div id=\"detail\">\n        <detail-nav-bar class=\"detail-nav\" @titleClick=\"titleClick\" ref=\"nav\"/>\n        <scroll class=\"content\" \n            ref=\"scroll\" \n            :probe-type=\"3\" \n            @scroll=\"contentScroll\">\n\n            <detail-swiper :top-images=\"topImages\"/>\n            <detail-base-info :goods=\"goods\"/>\n            <detail-shop-info :shop=\"shop\"/>\n            <detail-goods-info :detail-info=\"detailInfo\" @detailImageLoad=\"detailImageLoad\"/>\n            <detail-param-info ref=\"params\" :param-info=\"paramInfo\"/>\n            <detail-comment-info ref=\"comment\" :comment-info=\"commentInfo\"/>\n            <goods-list ref=\"recommend\" :goods=\"recommends\"/>\n        </scroll> \n        <detail-bottom-bar @addCart=\"addToCart\"/>\n\n        <!--在我们需要监听一个组件的原生事件时,必须给对应的事件加上.native修饰符,才能进行监听-->\n        <back-top @click.native='backClick' v-show=\"isShowBackTop\" />\n\n        <toast :message=\"message\" :show=\"show\" />\n    </div>\n</template>\n\n<script>\n    //公共组件\n    import Scroll from 'components/common/scroll/Scroll'\n    import GoodsList from 'components/content/goods/GoodsList'\n    import { itemListenerMixin, backTopMixin } from 'common/mixin'\n    \n    //页面组件\n    import DetailNavBar from './childComps/DetailNavBar'\n    import DetailSwiper from './childComps/DetailSwiper'\n    import DetailBaseInfo from './childComps/DetailBaseInfo'\n    import DetailShopInfo from './childComps/DetailShopInfo'\n    import DetailGoodsInfo from './childComps/DetailGoodsInfo'\n    import DetailParamInfo from './childComps/DetailParamInfo'\n    import DetailCommentInfo from './childComps/DetailCommentInfo'\n    import DetailBottomBar from './childComps/DetailBottomBar'\n    import Toast from \"components/common/Toast/Toast\"\n\n    // import {debounce} from 'common/utils'\n    import { getDetail, Goods, Shop, GoodsParam, getRecommend } from 'network/detail'\n\n    export default {\n        name: 'Detail',\n        components:{\n            DetailNavBar,\n            DetailSwiper,\n            DetailBaseInfo,\n            DetailShopInfo,\n            DetailGoodsInfo,\n            DetailParamInfo,\n            DetailCommentInfo,\n            DetailBottomBar,\n            Scroll,\n            GoodsList,\n            Toast\n        },\n       \n        mixins: [itemListenerMixin, backTopMixin],\n        \n        data(){\n            return{\n                iid: null,\n                topImages: [],\n                goods: {},\n                shop: {},\n                detailInfo: {},\n                paramInfo: {},\n                commentInfo:{},\n                recommends: [],\n                themeTopYs: [],\n                getThemeTopY: null,\n                currentIndex: 0,\n                message: \"\",\n                show: false\n            }\n        },\n        created(){\n            //1. 保存传入的iid\n            this.iid = this.$route.params.iid\n            //2. 根据iid请求详情数据\n            getDetail(this.iid).then(res => {\n                const data = res.result\n                //1. 获取顶部的图片轮播数据\n                this.topImages = data.itemInfo.topImages\n                //2. 获取商品信息\n                this.goods = new Goods(data.itemInfo, data.columns, data.shopInfo.services)\n                //3. 创建店铺信息的对象\n                this.shop = new Shop(data.shopInfo)\n                //4. 保存商品的详情数据\n                this.detailInfo = data.detailInfo\n                //5. 获取参数的信息\n                this.paramInfo = new GoodsParam(data.itemParams.info, data.itemParams.rule)\n                //6. 取出评论信息\n                if(data.rate.cRate !== 0){\n                    this.commentInfo = data.rate.list[0]\n                }\n                // //1. 第一次获取：值不对\n                // //值不对的原因：this.$refs.params.$el压根没有渲染\n                // this.themeTopYs = [];\n                // this.themeTopYs.push(0);\n                // this.themeTopYs.push(this.$refs.params.$el.offsetTop);\n                // this.themeTopYs.push(this.$refs.comment.$el.offsetTop);\n                // this.themeTopYs.push(this.$refs.recommend.$el.offsetTop);\n                this.$nextTick(() => {\n                    // 2. 第二次获取：值不对\n                    // 值不对的原因：图片没有计算在内\n                    // 根据最新的数据，对应的DOM是已经被渲染出来\n                    // 但是图片依然是没有加载完（目前获取到offsetTop不包含其中的图片）\n                    // offsetTop值不对的时候，都是图片的问题\n                    this.themeTopYs = [];\n                    this.themeTopYs.push(0);\n                    this.themeTopYs.push(this.$refs.params.$el.offsetTop);\n                    this.themeTopYs.push(this.$refs.comment.$el.offsetTop);\n                    this.themeTopYs.push(this.$refs.recommend.$el.offsetTop);\n                    this.themeTopYs.push(Number.MAX_VALUE);\n                })\n            })\n            //3. 请求推荐数据\n            getRecommend().then(res => {\n                this.recommends = res.data.list\n            })\n            // 4. 给getThemeTopY赋值\n            // this.getThemeTopY = debounce(() => {\n            //     this.themeTopYs = [];\n            //     this.themeTopYs.push(0);\n            //     this.themeTopYs.push(this.$refs.params.$el.offsetTop);\n            //     this.themeTopYs.push(this.$refs.comment.$el.offsetTop);\n            //     this.themeTopYs.push(this.$refs.recommend.$el.offsetTop);\n            //     this.themeTopYs.push(Number.MAX_VALUE);\n\n            //     console.log(this.themeTopYs)\n            // },100)\n        },\n        mounted(){         \n        },\n        updated(){\n        },\n        destroyed(){\n            this.$bus.$off('itemImageLoad', this.itemImgListener)\n        },\n        methods:{\n            detailImageLoad(){\n                this.newRefresh();\n                // this.getThemeTopY();\n                \n            },\n            titleClick(index){\n                this.$refs.scroll.scrollTo(0,-this.themeTopYs[index],100)\n            },\n            contentScroll(position){\n                const positionY = -position.y\n                let length = this.themeTopYs.length\n                for(let i=0; i<length-1; i++){\n                    if(this.currentIndex !== i && (positionY >= this.themeTopYs[i] && positionY < this.themeTopYs[i + 1])){\n                        this.currentIndex = i;\n                        this.$refs.nav.currentIndex = this.currentIndex\n                    }\n                }\n                // for (let i = 0; i < length; i++) {\n                //     if (this.currentIndex !== i && (i < length - 1 && positionY >= this.themeTopYs[i] && positionY < this.themeTopYs[i + 1]) || (i === length - 1 && positionY >= this.themeTopYs[i])) {\n                //         this.currentIndex = i;\n                //         this.$refs.nav.currentIndex = this.currentIndex\n                //     }\n                // }\n\n                //1.判断backTop是否显示\n                this.isShowBackTop = -position.y > 1000\n            },\n            addToCart(){\n                //1. 获取购物车需要展示的商品信息\n                const product = {}\n                product.image = this.topImages[0];\n                product.title = this.goods.title;\n                product.desc = this.goods.desc;\n                product.price = this.goods.realPrice;\n                product.iid = this.iid;\n                //2. 将商品添加到购物车里\n                // this.$store.cartList.push(product)\n                // this.$store.commit('addCart', product)\n                this.$store.dispatch('addCart', product).then(res => {\n                    this.$toast.show(res, 1500);\n                    })\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    #detail{\n        position: relative;\n        z-index: 9;\n        background-color: white;\n        height: 100vh\n    }\n    .content{\n        height: calc(100% - 44px - 49px)\n    }\n    .detail-nav{\n        position: relative;\n        z-index: 9;\n        background-color: white;\n    }\n</style>"]}]}