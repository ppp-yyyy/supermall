{"remainingRequest":"/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/node_modules/babel-loader/lib/index.js!/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/node_modules/eslint-loader/index.js??ref--13-0!/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/src/store/actions.js","dependencies":[{"path":"/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/src/store/actions.js","mtime":1630399917084},{"path":"/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCB7IEFERF9DT1VOVEVSLCBBRERfVE9fQ0FSVCB9IGZyb20gJy4vbXV0YXRpb24tdHlwZXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgYWRkQ2FydDogZnVuY3Rpb24gYWRkQ2FydChjb250ZXh0LCBwYXlsb2FkKSB7CiAgICAvLzEuIOafpeaJvuS5i+WJjeeahOaVsOe7hOS4reaYr+WQpuaciXBheWxvYWTmlrDmt7vliqDnmoTllYblk4EKICAgIC8vIGxldCBvbGRQcm9kdWN0ID0gbnVsbDsKICAgIC8vIGZvcihsZXQgaXRlbSBvZiBzdGF0ZS5jYXJ0TGlzdCl7CiAgICAvLyAgICAgaWYoaXRlbS5paWQgPT09IHBheWxvYWQuaWlkKXsKICAgIC8vICAgICAgICAgb2xkUHJvZHVjdCA9IGl0ZW07CiAgICAvLyAgICAgfQogICAgLy8gfQogICAgdmFyIG9sZFByb2R1Y3QgPSBjb250ZXh0LnN0YXRlLmNhcnRMaXN0LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIGl0ZW0uaWlkID09PSBwYXlsb2FkLmlpZDsKICAgIH0pOyAvLzIuIOWIpOaWrW9sZFByb2R1Y3QKCiAgICBpZiAob2xkUHJvZHVjdCkgewogICAgICAvLyBvbGRQcm9kdWN0LmNvdW50ICs9IDEKICAgICAgY29udGV4dC5jb21taXQoQUREX0NPVU5URVIsIG9sZFByb2R1Y3QpOwogICAgfSBlbHNlIHsKICAgICAgcGF5bG9hZC5jb3VudCA9IDE7IC8vIGNvbnRleHQuc3RhdGUuY2FydExpc3QucHVzaChwYXlsb2FkKQoKICAgICAgY29udGV4dC5jb21taXQoQUREX1RPX0NBUlQsIHBheWxvYWQpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/src/store/actions.js"],"names":["ADD_COUNTER","ADD_TO_CART","addCart","context","payload","oldProduct","state","cartList","find","item","iid","commit","count"],"mappings":";AAAA,SAASA,WAAT,EAAsBC,WAAtB,QAAyC,kBAAzC;AAEA,eAAe;AACXC,EAAAA,OADW,mBACHC,OADG,EACMC,OADN,EACe;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAIC,UAAU,GAAGF,OAAO,CAACG,KAAR,CAAcC,QAAd,CAAuBC,IAAvB,CAA4B,UAAAC,IAAI;AAAA,aAAIA,IAAI,CAACC,GAAL,KAAaN,OAAO,CAACM,GAAzB;AAAA,KAAhC,CAAjB,CARsB,CAStB;;AACA,QAAIL,UAAJ,EAAgB;AACZ;AACAF,MAAAA,OAAO,CAACQ,MAAR,CAAeX,WAAf,EAA4BK,UAA5B;AACH,KAHD,MAGO;AACHD,MAAAA,OAAO,CAACQ,KAAR,GAAgB,CAAhB,CADG,CAEH;;AACAT,MAAAA,OAAO,CAACQ,MAAR,CAAeV,WAAf,EAA4BG,OAA5B;AACH;AACJ;AAnBU,CAAf","sourcesContent":["import { ADD_COUNTER, ADD_TO_CART } from './mutation-types'\n\nexport default {\n    addCart(context, payload) {\n        //1. 查找之前的数组中是否有payload新添加的商品\n        // let oldProduct = null;\n        // for(let item of state.cartList){\n        //     if(item.iid === payload.iid){\n        //         oldProduct = item;\n        //     }\n        // }\n        let oldProduct = context.state.cartList.find(item => item.iid === payload.iid)\n        //2. 判断oldProduct\n        if (oldProduct) {\n            // oldProduct.count += 1\n            context.commit(ADD_COUNTER, oldProduct)\n        } else {\n            payload.count = 1\n            // context.state.cartList.push(payload)\n            context.commit(ADD_TO_CART, payload)\n        }\n    }\n}"]}]}