{"remainingRequest":"/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/node_modules/babel-loader/lib/index.js!/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/node_modules/eslint-loader/index.js??ref--13-0!/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/src/store/actions.js","dependencies":[{"path":"/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/src/store/actions.js","mtime":1634009558795},{"path":"/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgeyBBRERfQ09VTlRFUiwgQUREX1RPX0NBUlQgfSBmcm9tICcuL211dGF0aW9uLXR5cGVzJzsKZXhwb3J0IGRlZmF1bHQgewogIGFkZENhcnQ6IGZ1bmN0aW9uIGFkZENhcnQoY29udGV4dCwgcGF5bG9hZCkgewogICAgLy8xLiDmn6Xmib7kuYvliY3nmoTmlbDnu4TkuK3mmK/lkKbmnIlwYXlsb2Fk5paw5re75Yqg55qE5ZWG5ZOBCiAgICAvLyBsZXQgb2xkUHJvZHVjdCA9IG51bGw7CiAgICAvLyBmb3IobGV0IGl0ZW0gb2Ygc3RhdGUuY2FydExpc3QpewogICAgLy8gICAgIGlmKGl0ZW0uaWlkID09PSBwYXlsb2FkLmlpZCl7CiAgICAvLyAgICAgICAgIG9sZFByb2R1Y3QgPSBpdGVtOwogICAgLy8gICAgIH0KICAgIC8vIH0KICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICB2YXIgb2xkUHJvZHVjdCA9IGNvbnRleHQuc3RhdGUuY2FydExpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmlpZCA9PT0gcGF5bG9hZC5paWQ7CiAgICAgIH0pOyAvLzIuIOWIpOaWrW9sZFByb2R1Y3QKCiAgICAgIGlmIChvbGRQcm9kdWN0KSB7CiAgICAgICAgLy8gb2xkUHJvZHVjdC5jb3VudCArPSAxCiAgICAgICAgY29udGV4dC5jb21taXQoQUREX0NPVU5URVIsIG9sZFByb2R1Y3QpOwogICAgICAgIHJlc29sdmUoIuWVhuWTgeaVsOmHj+WKoDEiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwYXlsb2FkLmNvdW50ID0gMTsgLy8gY29udGV4dC5zdGF0ZS5jYXJ0TGlzdC5wdXNoKHBheWxvYWQpCgogICAgICAgIGNvbnRleHQuY29tbWl0KEFERF9UT19DQVJULCBwYXlsb2FkKTsKICAgICAgICByZXNvbHZlKCLllYblk4Hmt7vliqDliLDotK3nianovaYiKTsKICAgICAgfQogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["/Users/pyy/Documents/web前端/练习(杂七杂八)/supermall/src/store/actions.js"],"names":["ADD_COUNTER","ADD_TO_CART","addCart","context","payload","Promise","resolve","oldProduct","state","cartList","find","item","iid","commit","count"],"mappings":";;AAAA,SAASA,WAAT,EAAsBC,WAAtB,QAAyC,kBAAzC;AAEA,eAAe;AACXC,EAAAA,OADW,mBACHC,OADG,EACMC,OADN,EACe;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC5B,UAAIC,UAAU,GAAGJ,OAAO,CAACK,KAAR,CAAcC,QAAd,CAAuBC,IAAvB,CAA4B,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,GAAL,KAAaR,OAAO,CAACQ,GAAzB;AAAA,OAAhC,CAAjB,CAD4B,CAE5B;;AACA,UAAIL,UAAJ,EAAgB;AACZ;AACAJ,QAAAA,OAAO,CAACU,MAAR,CAAeb,WAAf,EAA4BO,UAA5B;AACAD,QAAAA,OAAO,CAAC,QAAD,CAAP;AACH,OAJD,MAIO;AACHF,QAAAA,OAAO,CAACU,KAAR,GAAgB,CAAhB,CADG,CAEH;;AACAX,QAAAA,OAAO,CAACU,MAAR,CAAeZ,WAAf,EAA4BG,OAA5B;AACAE,QAAAA,OAAO,CAAC,UAAD,CAAP;AACH;AACJ,KAbM,CAAP;AAcH;AAvBU,CAAf","sourcesContent":["import { ADD_COUNTER, ADD_TO_CART } from './mutation-types'\n\nexport default {\n    addCart(context, payload) {\n        //1. 查找之前的数组中是否有payload新添加的商品\n        // let oldProduct = null;\n        // for(let item of state.cartList){\n        //     if(item.iid === payload.iid){\n        //         oldProduct = item;\n        //     }\n        // }\n        return new Promise((resolve) => {\n            let oldProduct = context.state.cartList.find(item => item.iid === payload.iid)\n            //2. 判断oldProduct\n            if (oldProduct) {\n                // oldProduct.count += 1\n                context.commit(ADD_COUNTER, oldProduct)\n                resolve(\"商品数量加1\")\n            } else {\n                payload.count = 1\n                // context.state.cartList.push(payload)\n                context.commit(ADD_TO_CART, payload)\n                resolve(\"商品添加到购物车\")\n            }\n        })\n    }\n}"]}]}